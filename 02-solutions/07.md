# Exercise: Configure LimitRange and Resource Quotas in OpenShift

**Objective:** Apply resource constraints to the `napoleon` project using LimitRange and ResourceQuota to ensure that pods and containers do not exceed the defined limits for CPU and memory.

## Requirements and Steps

- A project named napoleon.

```bash
oc project napoleon
```

### 1. Create a LimitRange 

In the Napoleon project, to define the default CPU and memory requests and limits for containers.

- **Default request:** 100m CPU, 128Mi memory
- **Default limit:** 500m CPU, 512Mi memory

---
```bash
# vim napoleon-limits.yaml
```
```yaml
apiVersion: v1
kind: LimitRange
metadata:
  name: napoleon-limits
  namespace: napoleon
spec:
  limits:
    - type: Container
      default:
        cpu: 500m
        memory: 512Mi
      defaultRequest:
        cpu: 100m
        memory: 128Mi
```
```bash
# oc apply -f napoleon-limits.yaml
```

### 2. Create a ResourceQuota

In the Napoleon project, this is used to limit total project usage.

- **Maximum total CPU:** 2 cores
- **Maximum total memory:** 2Gi
- **Maximum number of pods:** 5

---

```bash
# vim napoleon-quota.yaml
```
```yaml
apiVersion: v1
kind: ResourceQuota
metadata:
  name: napoleon-quota
  namespace: napoleon
spec:
  hard:
    cpu: "2"
    memory: 2Gi
    pods: "5"
```
```bash
# oc apply -f napoleon-quota.yaml
```

### Notes

- Verify that the LimitRange and ResourceQuota have been applied.

```bash
oc describe limits -n napoleon
oc describe quota -n napoleon
```