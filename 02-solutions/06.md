# Exercise: Collect cluster diagnostics with Must-Gather

**Objective:** Use OpenShift's must-gather to collect cluster diagnostics and logs for troubleshooting and analysis.

## Requirements and Steps

- An OpenShift cluster (obviously)

### 1. Get must-gather

Obtain a `must-gather` from the cluster and compress it using the `tar cvf` command. Save the results in a file called `ex280-must-gather-{cluster-id}.tar.gz`.

---

First, get a **cluster-id** for your cluster:

```bash
oc get clusterversion -o jsonpath='{.items[].spec.clusterID}{"\n"}'
```

With **cluster-id**, we will get the must-gather:

```bash
CLUSTER_ID=$(oc get clusterversion -o jsonpath='{.items[].spec.clusterID}{"\n"}')

oc adm must-gather --dest-dir=ex280-must-gather-$CLUSTER_ID

tar cvf ex280-must-gather-$CLUSTER_ID.tar.gz ex280-must-gather-$CLUSTER_ID
```